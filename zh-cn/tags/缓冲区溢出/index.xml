<?xml version="1.0" encoding="utf-8" standalone="yes"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
    <channel>
        <title>ç¼“å†²åŒºæº¢å‡º on Nansen Li</title>
        <link>https://nansenli.com/zh-cn/tags/%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/</link>
        <description>Recent content in ç¼“å†²åŒºæº¢å‡º on Nansen Li</description>
        <generator>Hugo -- gohugo.io</generator>
        <language>zh-cn</language>
        <copyright>Nansen Li ğŸŒˆ ï¼ˆææ¥ æ£®ï¼‰</copyright>
        <lastBuildDate>Tue, 15 Oct 2024 14:18:44 +0000</lastBuildDate><atom:link href="https://nansenli.com/zh-cn/tags/%E7%BC%93%E5%86%B2%E5%8C%BA%E6%BA%A2%E5%87%BA/index.xml" rel="self" type="application/rss+xml" /><item>
        <title>Off-by-One æº¢å‡ºæ”»å‡»åˆ†æ</title>
        <link>https://nansenli.com/zh-cn/post/2024/10/oboattact-md/</link>
        <pubDate>Tue, 15 Oct 2024 14:18:44 +0000</pubDate>
        
        <guid>https://nansenli.com/zh-cn/post/2024/10/oboattact-md/</guid>
        <description>&lt;h1 id=&#34;off-by-one-æº¢å‡ºæ”»å‡»åˆ†æ&#34;&gt;Off-by-One æº¢å‡ºæ”»å‡»åˆ†æ
&lt;/h1&gt;&lt;h2 id=&#34;èƒŒæ™¯&#34;&gt;èƒŒæ™¯
&lt;/h2&gt;&lt;p&gt;ä¸Šå‘¨ï¼Œæˆ‘å‚åŠ äº†ä¸€é—¨å®‰å…¨è¯¾ç¨‹ï¼Œå…¶ä¸­åŒ…å«äº†ä¸€ä¸ª off-by-one æº¢å‡ºæ¼æ´çš„ç¤ºä¾‹ã€‚ä»¥ä¸‹æ˜¯åŸå§‹ä»£ç ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-c&#34; data-lang=&#34;c&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;/* ç®€å•çš„ off-by-one æº¢å‡ºç¤ºä¾‹ */&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdio.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;stdlib.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;#include&lt;/span&gt; &lt;span style=&#34;color:#75715e&#34;&gt;&amp;lt;string.h&amp;gt;&lt;/span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#75715e&#34;&gt;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;foo&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;*&lt;/span&gt;input) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; buf[&lt;span style=&#34;color:#ae81ff&#34;&gt;1024&lt;/span&gt;];
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;strncpy&lt;/span&gt;(buf, input, &lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(buf));
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  buf[&lt;span style=&#34;color:#66d9ef&#34;&gt;sizeof&lt;/span&gt;(buf)] &lt;span style=&#34;color:#f92672&#34;&gt;=&lt;/span&gt; &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;\0&amp;#39;&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;bar&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;void&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;I&amp;#39;ve been hacked&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; &lt;span style=&#34;color:#a6e22e&#34;&gt;main&lt;/span&gt;(&lt;span style=&#34;color:#66d9ef&#34;&gt;int&lt;/span&gt; argc, &lt;span style=&#34;color:#66d9ef&#34;&gt;char&lt;/span&gt; &lt;span style=&#34;color:#f92672&#34;&gt;**&lt;/span&gt;argv) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;if&lt;/span&gt; (argc &lt;span style=&#34;color:#f92672&#34;&gt;!=&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;2&lt;/span&gt;) {
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;printf&lt;/span&gt;(&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;Usage: %s input_string&lt;/span&gt;&lt;span style=&#34;color:#ae81ff&#34;&gt;\n&lt;/span&gt;&lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#34;&lt;/span&gt;, argv[&lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;    &lt;span style=&#34;color:#a6e22e&#34;&gt;exit&lt;/span&gt;(EXIT_FAILURE);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  }
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#a6e22e&#34;&gt;foo&lt;/span&gt;(argv[&lt;span style=&#34;color:#ae81ff&#34;&gt;1&lt;/span&gt;]);
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;  &lt;span style=&#34;color:#66d9ef&#34;&gt;return&lt;/span&gt; &lt;span style=&#34;color:#ae81ff&#34;&gt;0&lt;/span&gt;;
&lt;/span&gt;&lt;/span&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;}
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;åˆ©ç”¨æ­¤æ¼æ´çš„æ”»å‡»å‘½ä»¤æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;perl -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;system &amp;#34;./obo&amp;#34;, &amp;#34;\x38\x84\x04\x08&amp;#34;x256&amp;#39;&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;p&gt;è¿è¡Œæ­¤å‘½ä»¤çš„ç»“æœæ˜¯å±å¹•ä¸Šæ‰“å°å‡ºå¤šè¡Œ &lt;code&gt;I&#39;ve been hacked&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;h2 id=&#34;åˆ†æ&#34;&gt;åˆ†æ
&lt;/h2&gt;&lt;p&gt;å½“ç¨‹åºè¿›å…¥ &lt;code&gt;foo&lt;/code&gt; å‡½æ•°æ—¶ï¼Œå†…å­˜å¸ƒå±€å¦‚ä¸‹ï¼ˆä½¿ç”¨ GDB è§‚å¯Ÿåˆ°ï¼‰ï¼š&lt;/p&gt;
&lt;p&gt;ä»ä¸Šåˆ°ä¸‹ï¼Œå¸ƒå±€åŒ…å«è¿”å›åœ°å€ã€ä¿å­˜çš„å¸§æŒ‡é’ˆï¼ˆsaved frame pointerï¼‰å’Œç¼“å†²åŒº (&lt;code&gt;buf&lt;/code&gt;)ã€‚&lt;/p&gt;
&lt;p&gt;å½“æ‰§è¡Œ &lt;code&gt;buf[sizeof(buf)] = &#39;\0&#39;;&lt;/code&gt; æ—¶ï¼Œä¿å­˜çš„å¸§æŒ‡é’ˆ (&lt;code&gt;ebp&lt;/code&gt;) çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚è¢«è®¾ç½®ä¸º &lt;code&gt;0&lt;/code&gt;ã€‚ä¸ºäº†ç¡®ä¿ &lt;code&gt;ebp&lt;/code&gt; åœ¨è¢«éƒ¨åˆ†è¦†ç›–åä»ç„¶æŒ‡å‘ &lt;code&gt;buf&lt;/code&gt; åŒºåŸŸå†…ï¼Œéœ€è¦è‡³å°‘ 1024 å­—èŠ‚çš„ç¼“å†²åŒºã€‚å…·ä½“æ¥è¯´ï¼Œéœ€è¦è¦†ç›– &lt;code&gt;ebp&lt;/code&gt;ï¼Œä½¿å…¶ä¿æŒåœ¨åˆç†èŒƒå›´å†…ï¼ˆæœ€é«˜åˆ° &lt;code&gt;0xff&lt;/code&gt;ï¼‰ï¼Œè¿™å°±æ˜¯ä¸ºä»€ä¹ˆç¼“å†²åŒºè®¾ç½®ä¸º &lt;code&gt;0xff * 4&lt;/code&gt; å­—èŠ‚çš„åŸå› ã€‚&lt;/p&gt;
&lt;h2 id=&#34;ç†è§£-foo-è¿”å›æ—¶çš„æ±‡ç¼–å‘½ä»¤&#34;&gt;ç†è§£ &lt;code&gt;foo&lt;/code&gt; è¿”å›æ—¶çš„æ±‡ç¼–å‘½ä»¤
&lt;/h2&gt;&lt;p&gt;å½“ &lt;code&gt;foo&lt;/code&gt; å‡½æ•°è¿”å›æ—¶ï¼Œé€šå¸¸ä¼šæ‰§è¡Œä»¥ä¸‹å…³é”®çš„æ±‡ç¼–æŒ‡ä»¤ï¼š&lt;/p&gt;
&lt;h3 id=&#34;1-leave-æŒ‡ä»¤&#34;&gt;1. &lt;code&gt;leave&lt;/code&gt; æŒ‡ä»¤
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;leave&lt;/code&gt; æŒ‡ä»¤ç­‰ä»·äºï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-assembly&#34; data-lang=&#34;assembly&#34;&gt;mov esp, ebp
pop ebp
&lt;/code&gt;&lt;/pre&gt;&lt;ul&gt;
&lt;li&gt;&lt;code&gt;mov esp, ebp&lt;/code&gt;ï¼šå°†æ ˆæŒ‡é’ˆ (&lt;code&gt;esp&lt;/code&gt;) è®¾ç½®ä¸ºå¸§æŒ‡é’ˆ (&lt;code&gt;ebp&lt;/code&gt;) çš„å€¼ï¼Œæ¢å¤æ ˆæŒ‡é’ˆåˆ°å½“å‰æ ˆå¸§çš„é¡¶éƒ¨ï¼Œä»è€Œé‡Šæ”¾å½“å‰å‡½æ•°å ç”¨çš„ç©ºé—´ã€‚&lt;/li&gt;
&lt;li&gt;&lt;code&gt;pop ebp&lt;/code&gt;ï¼šå°†æ ˆé¡¶çš„å€¼å¼¹å‡ºå¹¶èµ‹ç»™å¸§æŒ‡é’ˆ (&lt;code&gt;ebp&lt;/code&gt;)ï¼Œä»è€Œæ¢å¤è°ƒç”¨è€…çš„å¸§æŒ‡é’ˆã€‚å®é™…ä¸Šï¼Œç›¸å½“äºå°†è¿”å›åœ°å€å†™å…¥ &lt;code&gt;ebp&lt;/code&gt;ï¼Œè¿™æ„å‘³ç€å°†æ ˆä¸­çš„å€¼ï¼ˆé€šå¸¸æ˜¯è°ƒç”¨è€…çš„å¸§åœ°å€ï¼‰èµ‹ç»™ &lt;code&gt;ebp&lt;/code&gt;ï¼Œä»è€Œæ¢å¤è°ƒç”¨è€…çš„æ ˆå¸§ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;&lt;code&gt;leave&lt;/code&gt; çš„ä½œç”¨æ˜¯å°† &lt;code&gt;esp&lt;/code&gt; æ¢å¤åˆ°å‡½æ•°è°ƒç”¨å‰çš„ä½ç½®ï¼Œå¹¶å¼¹å‡ºä¿å­˜çš„ &lt;code&gt;ebp&lt;/code&gt;ã€‚å¦‚æœ &lt;code&gt;ebp&lt;/code&gt; è¢«è¦†ç›–ä¸ºæŒ‡å‘æŸä¸ªç‰¹æ®Šåœ°å€ï¼ˆä¾‹å¦‚ç¼“å†²åŒºå†…çš„åœ°å€ï¼‰ï¼Œåœ¨å‡½æ•°è¿”å›æ—¶å¯èƒ½å¯¼è‡´é”™è¯¯çš„æ ˆæŒ‡é’ˆä½ç½®ã€‚&lt;/p&gt;
&lt;h3 id=&#34;2-ret-æŒ‡ä»¤&#34;&gt;2. &lt;code&gt;ret&lt;/code&gt; æŒ‡ä»¤
&lt;/h3&gt;&lt;p&gt;&lt;code&gt;ret&lt;/code&gt; æŒ‡ä»¤ä»æ ˆé¡¶å¼¹å‡ºä¸€ä¸ªåœ°å€å¹¶è·³è½¬åˆ°è¯¥åœ°å€ï¼š&lt;/p&gt;
&lt;pre tabindex=&#34;0&#34;&gt;&lt;code class=&#34;language-assembly&#34; data-lang=&#34;assembly&#34;&gt;pop eip
&lt;/code&gt;&lt;/pre&gt;&lt;p&gt;å¦‚æœè¿”å›åœ°å€è¢«è¦†ç›–ä¸º &lt;code&gt;bar&lt;/code&gt; å‡½æ•°çš„åœ°å€ï¼Œæ‰§è¡Œæµå°†è·³è½¬åˆ° &lt;code&gt;bar&lt;/code&gt;ï¼Œå…è®¸æ”»å‡»è€…æ‰§è¡Œä»»æ„ä»£ç ã€‚æœ¬è´¨ä¸Šï¼Œ&lt;code&gt;ret&lt;/code&gt; ä¼šå°†ä¸€ä¸ªåœ°å€å¼¹å‡ºåˆ°æŒ‡ä»¤æŒ‡é’ˆ (&lt;code&gt;eip&lt;/code&gt;) å¹¶è·³è½¬åˆ°è¯¥åœ°å€ç»§ç»­æ‰§è¡Œã€‚&lt;/p&gt;
&lt;h2 id=&#34;æ”»å‡»æ­¥éª¤&#34;&gt;æ”»å‡»æ­¥éª¤
&lt;/h2&gt;&lt;ul&gt;
&lt;li&gt;å½“æ‰§è¡Œå‘½ä»¤ &lt;code&gt;perl -e &#39;system &amp;quot;./obo&amp;quot;, &amp;quot;\x38\x84\x04\x08&amp;quot;x256&#39;&lt;/code&gt; æ—¶ï¼Œç¨‹åºä¼šå°†è¿™äº›é‡å¤çš„å­—èŠ‚ä½œä¸ºè¾“å…¥ä¼ é€’ç»™ &lt;code&gt;./obo&lt;/code&gt;ã€‚&lt;/li&gt;
&lt;li&gt;åœ¨ &lt;code&gt;foo&lt;/code&gt; å‡½æ•°è¿”å›æ—¶ï¼Œæ‰§è¡Œäº† &lt;code&gt;leave&lt;/code&gt; å’Œ &lt;code&gt;ret&lt;/code&gt; æŒ‡ä»¤ï¼Œç”±äºè¿”å›åœ°å€è¢«è¦†ç›–ï¼Œç¨‹åºè·³è½¬åˆ° &lt;code&gt;bar&lt;/code&gt; å‡½æ•°ï¼Œæ‰“å°å‡ºæˆåŠŸçš„æ¶ˆæ¯å¤šæ¬¡ã€‚&lt;/li&gt;
&lt;/ul&gt;
&lt;h2 id=&#34;è¿›ä¸€æ­¥åˆ†æç¡®å®šæœ‰æ•ˆçš„è¦†ç›–ä½ç½®&#34;&gt;è¿›ä¸€æ­¥åˆ†æï¼šç¡®å®šæœ‰æ•ˆçš„è¦†ç›–ä½ç½®
&lt;/h2&gt;&lt;p&gt;ä¸ºäº†æˆåŠŸæ‰§è¡Œæ”»å‡»ï¼Œå…³é”®åœ¨äºç²¾ç¡®ç¡®å®šéœ€è¦è¦†ç›–å“ªäº›å­—èŠ‚ï¼Œä»¥æœ‰æ•ˆåœ°æ“æ§æ§åˆ¶æµã€‚åœ¨è¿™ä¸ªä¾‹å­ä¸­ï¼Œæº¢å‡ºå‘ç”Ÿåœ¨æ‰§è¡Œ &lt;code&gt;buf[sizeof(buf)] = &#39;\0&#39;&lt;/code&gt; æ—¶ï¼Œå¯¼è‡´ä¿å­˜çš„å¸§æŒ‡é’ˆ (&lt;code&gt;ebp&lt;/code&gt;) çš„æœ€ä½æœ‰æ•ˆå­—èŠ‚è¢«è®¾ç½®ä¸º &lt;code&gt;0&lt;/code&gt;ã€‚å› æ­¤ï¼Œéœ€è¦è°ƒæ•´ &lt;code&gt;ebp&lt;/code&gt; çš„å€¼ï¼Œç¡®ä¿å…¶æŒ‡å‘ç¼“å†²åŒºåŒºåŸŸï¼Œä»è€Œä½¿æ‰§è¡Œæµç¨‹æŒ‰é¢„æœŸè¿›è¡Œï¼Œæœ€ç»ˆè·³è½¬åˆ° &lt;code&gt;bar&lt;/code&gt; å‡½æ•°ã€‚&lt;/p&gt;
&lt;p&gt;åŸºäºè¿›ä¸€æ­¥çš„åˆ†æå’Œæµ‹è¯•ï¼Œå¾—å‡ºä»¥ä¸‹è§è§£ï¼š&lt;/p&gt;
&lt;ul&gt;
&lt;li&gt;
&lt;p&gt;è¦å‡†ç¡®ç¡®å®šè¦†ç›–ä½ç½®ï¼Œ&lt;code&gt;ebp&lt;/code&gt; çš„å€¼è‡³å…³é‡è¦ã€‚ç„¶è€Œï¼Œè·å¾—è¿™ä¸ªå€¼æ˜¯æœ‰æŒ‘æˆ˜çš„ï¼Œå› ä¸ºï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;GDB è°ƒè¯•ä¼šå½±å“åœ°å€å¸ƒå±€ã€‚&lt;/li&gt;
&lt;li&gt;è¾“å…¥å‚æ•°çš„é•¿åº¦ä¼šå½±å“åœ°å€å¸ƒå±€ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;åœ¨ GDB è°ƒè¯•ä¸‹ï¼Œ&lt;code&gt;foo&lt;/code&gt; å‡½æ•°å†…çš„å¸ƒå±€å¦‚ä¸‹ï¼š&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;æ‰§è¡Œ &lt;code&gt;buf[sizeof(buf)] = &#39;\0&#39;;&lt;/code&gt; åï¼Œ&lt;code&gt;ebp&lt;/code&gt; è¢«ä¿®æ”¹ï¼Œä½¿å¾—è¿”å›åœ°å€å®é™…ä¸Šå–çš„æ˜¯ &lt;code&gt;ebp + 1&lt;/code&gt; å¤„çš„å€¼ï¼Œå³åœ°å€ &lt;code&gt;0xbfffed00 + 1&lt;/code&gt;ï¼Œä¹Ÿå°±æ˜¯ &lt;code&gt;0xbfffed04&lt;/code&gt;ã€‚&lt;/p&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;å¯¹åº”çš„åç§»ä½ç½®åœ¨ &lt;code&gt;buf&lt;/code&gt; çš„ç¬¬ 255 ä¸ªä½ç½®ï¼Œè¿™æ„å‘³ç€å¯ä»¥é€šè¿‡åªåœ¨è¯¥ç‰¹å®šä½ç½®å¡«å…¥è¿”å›åœ°å€æ¥æ„é€ æ”»å‡»ã€‚åœ¨ GDB ä¸­ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤è¿›è¡ŒéªŒè¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;r &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;perl -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;print  &amp;#34;\x01\x01\x01\x01&amp;#34;x254 . &amp;#34;\x38\x84\x04\x08&amp;#34;x1 . &amp;#34;\x01\x01\x01\x01&amp;#34;x1&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç»è¿‡éªŒè¯ï¼Œè¿™åœ¨ GDB è°ƒè¯•ä¸‹æ˜¯æœ‰æ•ˆçš„ï¼Œä½†éœ€è¦æ³¨æ„ä»¥ä¸‹ç»†èŠ‚ï¼š&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;è¾“å…¥å‚æ•°çš„é•¿åº¦å¿…é¡»å§‹ç»ˆä¸º 256 å­—èŠ‚ï¼Œå¦åˆ™ &lt;code&gt;ebp&lt;/code&gt; çš„å€¼ä¼šå‘ç”Ÿå˜åŒ–ï¼Œå› ä¸ºè¾“å…¥å‚æ•°ä¼šå ç”¨æ ˆç©ºé—´ï¼Œä»è€Œå½±å“å¸§çš„èµ·å§‹ä½ç½®ï¼Œè¿›è€Œå½±å“ &lt;code&gt;ebp&lt;/code&gt; çš„å€¼ã€‚&lt;/li&gt;
&lt;li&gt;å¡«å……å¿…é¡»ä½¿ç”¨éé›¶å€¼ï¼Œå¦‚ &lt;code&gt;0x01&lt;/code&gt;ï¼Œå› ä¸ºå¦‚æœé‡åˆ° &lt;code&gt;0&lt;/code&gt; å€¼ï¼Œ&lt;code&gt;strncpy&lt;/code&gt; ä¼šæå‰ç»ˆæ­¢ã€‚&lt;/li&gt;
&lt;/ol&gt;
&lt;/li&gt;
&lt;li&gt;
&lt;p&gt;ç›´æ¥æ‰§è¡Œç¨‹åºæ—¶ï¼ˆå³ä¸ä½¿ç”¨ GDBï¼‰ï¼Œå†…å­˜å¸ƒå±€ä¸åŒï¼Œå¯¼è‡´åç§»ä½ç½®ä¹Ÿä¸åŒã€‚é€šè¿‡å®éªŒï¼Œå‘ç°åç§»ä½ç½®åœ¨ç¬¬ 235 ä¸ªä½ç½®ã€‚å¯¹åº”çš„æ”»å‡»å‘½ä»¤æ˜¯ï¼š&lt;/p&gt;
&lt;div class=&#34;highlight&#34;&gt;&lt;pre tabindex=&#34;0&#34; style=&#34;color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;&#34;&gt;&lt;code class=&#34;language-bash&#34; data-lang=&#34;bash&#34;&gt;&lt;span style=&#34;display:flex;&#34;&gt;&lt;span&gt;./obo &lt;span style=&#34;color:#66d9ef&#34;&gt;$(&lt;/span&gt;perl -e &lt;span style=&#34;color:#e6db74&#34;&gt;&amp;#39;print  &amp;#34;\x01\x01\x01\x01&amp;#34;x234 . &amp;#34;\x38\x84\x04\x08&amp;#34;x1 . &amp;#34;\x01\x01\x01\x01&amp;#34;x21&amp;#39;&lt;/span&gt;&lt;span style=&#34;color:#66d9ef&#34;&gt;)&lt;/span&gt;
&lt;/span&gt;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/li&gt;
&lt;/ul&gt;
&lt;p&gt;è¿™æ ·å°±å®ç°äº†æ‰¾åˆ°å‡†ç¡®è¦†ç›–ä½ç½®å¹¶æˆåŠŸæ‰§è¡Œæ”»å‡»çš„æ•ˆæœã€‚&lt;/p&gt;
</description>
        </item>
        
    </channel>
</rss>
